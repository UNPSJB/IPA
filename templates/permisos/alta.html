{% extends 'generales/alta.html' %}

{% block mensaje_boton_volver %}
	Volver al listado de permisos
{% endblock %} 

{% block url_a_volver %}/permisos/listado{% endblock %}

{% block titulo %} 
	Nueva Solicitud 
{% endblock %}

{% block formulario_custom %} 
<div class="ui grid">
    <div class="row">

        <div class="fifteen wide column" >
            <div class="field">
                    {{ form.solicitante.label_tag }}
                    {{ form.solicitante.errors }}
                    {{ form.solicitante }}                    
            </div>
        </div>
        <div class="one wide column">
            <button class="ui primary icon button fix-button-add-margin" id="agregarSolicitante" type="button" data-tooltip="Agrega una nuevo solicitante">
                <i class="plus icon" ></i>
            </button> 
        </div>
    </div>
    <div class="row">
        <div class="fifteen wide column" >
            <div class="field">
                    {{ form.establecimiento.label_tag }}
                    {{ form.establecimiento.errors }}
                    {{ form.establecimiento }}                    
            </div>
        </div>
        <div class="one wide column">
            <button class="ui primary icon button fix-button-add-margin" id="agregarEstablecimiento" type="button" data-tooltip="Agrega una nuevo establecimiento">
                <i class="plus icon" ></i>
            </button> 
        </div>
    </div>
    <div class="row">
        <div class="fifteen wide column" >
            <div class="field">
                    {{ form.tipo.label_tag }}
                    {{ form.tipo.errors }}
                    {{ form.tipo }}                    
            </div>
        </div>
        <div class="one wide column">
            <button class="ui primary icon button fix-button-add-margin" id="agregarTipo" type="button" data-tooltip="Agrega una nuevo tipo de uso">
                <i class="plus icon" ></i>
            </button> 
        </div>
    </div>
    <div class="row">
        <div class="fifteen wide column" >
            <div class="field">
                    {{ form.afluente.label_tag }}
                    {{ form.afluente.errors }}
                    {{ form.afluente }}                    
            </div>
        </div>
        <div class="one wide column">
            <button class="ui primary icon button fix-button-add-margin" id="agregarAfluente" type="button" data-tooltip="Agrega una nuevo afluente">
                <i class="plus icon" ></i>
            </button> 
        </div>
    </div>
</div>

{% endblock %}

{% block formname %}nueva_solicitud_form{% endblock%}

{% block customPageJs %}
    $('#agregarSolicitante').click(function(){
        formButtonAdd('nueva_solicitud_form', '{% url 'personas:alta' %}')
    })

    $('#agregarEstablecimiento').click(function(){
        formButtonAdd('nueva_solicitud_form', '{% url 'establecimientos:alta' %}')
    })

    $('#agregarTipo').click(function(){
        formButtonAdd('nueva_solicitud_form', '{% url 'tiposDeUso:alta' %}')
    })

    $('#agregarAfluente').click(function(){
        formButtonAdd('nueva_solicitud_form', '{% url 'afluentes:alta' %}')
    })

{% endblock %}
